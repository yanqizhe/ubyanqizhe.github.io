var bimber_shares={};!function(a,b){"use strict";var c;b.initFacebook=function(){d()};var d=function(){a("body").on("click",".bimber-share-facebook",function(d){if(d.preventDefault(),0===b.config.facebook_sdk.app_id.length)return alert(b.config.i18n.fb_app_id_not_set),!1;b.log("Share on Facebook action triggered"),c=a(this),b.log("Action trigger:"),b.log(c),e()})},e=function(){void 0===window.FB?(b.log("Facebook JS SDK not loaded"),b.log("Loading SDK..."),window.fbAsyncInit=function(){b.log("Facebook JS SDK loaded"),f(),g()},a("body").prepend('<script async defer src="'+b.config.facebook_sdk.url+'"><\/script>')):(b.log("Facebook JS SDK already loaded"),FB.IsInitialized||(b.log("Facebook JS SDK not initialized"),f()),g())},f=function(){FB.init({appId:b.config.facebook_sdk.app_id,autoLogAppEvents:!0,xfbml:!0,version:b.config.facebook_sdk.version}),b.log("FB SDK initialized")},g=function(){b.log("Checking Facebook login status..."),FB.getLoginStatus(function(a){"connected"===a.status?(b.log("User already logged in"),h()):(b.log("User not logged in. Logging in..."),FB.login(function(a){"connected"===a.status&&(b.log("User logged in successfully"),h())}))})},h=function(){var a=c.attr("data-share-url"),d=c.attr("data-share-text"),e=c.attr("data-on-share-callback");b.log("Share data:"),b.log("URL: "+a),b.log("Text: "+d),b.log("OnShare function: "+e),e=e?window[e]:function(){b.log("onShare callback not implemented")},FB.ui({display:"dialog",method:"share",href:a,quote:d},function(a){b.log("Facebook share response:"),b.log(a),a&&a.error_code?e(c,!1):e(c,!0)})}}(jQuery,bimber_shares),function(a,b){"use strict";var c;b.initTwitter=function(){d()};var d=function(){a("body").on("click",".bimber-share-twitter",function(d){return d.preventDefault(),b.log("Share on Twitter action triggered"),c=a(this),b.log("Action trigger:"),b.log(c),e(c.attr("href")),!1})},e=function(b){var c=600,d=400,e=(a(window).width()-c)/2,f=(a(window).height()-d)/2;window.open(b,"twitter","status=1,width="+c+",height="+d+",top="+f+",left="+e)}}(jQuery,bimber_shares),function(a,b){"use strict";var c;b.initPinterest=function(){d()};var d=function(){a("body").on("click",".bimber-share-pinterest",function(d){return d.preventDefault(),b.log("Share on Pinterest action triggered"),c=a(this),b.log("Action trigger:"),b.log(c),e(c.attr("href")),!1})},e=function(b){var c=600,d=400,e=(a(window).width()-c)/2,f=(a(window).height()-d)/2;window.open(b,"pinterest","status=1,width="+c+",height="+d+",top="+f+",left="+e)}}(jQuery,bimber_shares),function(a,b){"use strict";b.initMicroshares=function(c){var d=b.config.microshares.tpl;if(0===d.length)return void b.log("Microshares template not set. Microshares disabled");c||(c=a("#content")),b.log("Init Microshares for scope:"),b.log(c),b.microShareIncludeSelectors=[".entry-featured-media-main img.wp-post-image",".entry-content img.aligncenter",".entry-content .aligncenter img",".entry-content .alignwide img",".entry-content .alignfull img",".entry-content .g1-enable-share-links"],b.microShareExcludeSelectors=[".entry-content img.g1-disable-share-links",".entry-content .snax-item-box",".entry-content .wp-video"],a(b.microShareIncludeSelectors.join(",")).not(b.microShareExcludeSelectors.join(",")).each(function(){var c=a(this);b.log("[Microshare] Processing the element: "),b.log(c);var e="";if(!(c.parents(".mashsb-micro-wrapper").length>0)){var f=a("img",c);if(f.length>0?(e=f.attr("data-src"))||(e=f.attr("src")):(e=c.attr("data-src"))||(e=c.attr("src")),"string"!=typeof e&&(e=""),b.log("[Microshare] Image source: "),b.log(e),!e.match(new RegExp(/https?:\/\/(www\.)?[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&//=]*)/))){b.log("[Microshare] Image source URL is not absolute.");var g=b.config.microshares.domain;b.log("[Microshare] Base href: "+g),g?(e=e.replace(/^\.?\//,""),b.log("[Microshare] Normalized src: "+e),e=g+e):e=""}var h=d.replace("bimber_share_media_url_placeholder",encodeURIComponent(e));b.log("Microshare replaced source: "+e),c.wrap('<div class="g1-img-wrap"></div>'),c.parent().addClass("mashsb-micro-wrapper"),c.parent().append(h),c.find(".snax-item-share").empty()}}),a(".bimber-snax-embedly-script-placeholder").length>0&&a(".bimber-snax-embedly-script-placeholder").replaceWith('<script async src="//cdn.embedly.com/widgets/platform.js" charset="UTF-8"><\/script>'),a(".bimber-microshare-item-share-toggle").on("click touchstart",function(b){b.preventDefault(),a(this).parents(".bimber-microshare-item-share").addClass("bimber-microshare-item-share-expanded")}),a("body").on("click touchstart",function(b){var c=a(b.target).parents(".bimber-microshare-item-share-expanded");a(".bimber-microshare-item-share-expanded").not(c).removeClass("bimber-microshare-item-share-expanded")})}}(jQuery,bimber_shares),function(a,b){"use strict";var c=!1;b.log=function(a){c&&"undefined"!=typeof console&&console.log(a)};var d=function(){b.config=window.bimber_shares_config,b.config&&(b.config.debug_mode&&(c=!0,b.log("[Bimber] Shares debug mode is ON"),b.log(b.config)),b.initFacebook(),b.initTwitter(),b.initPinterest(),b.initMicroshares())};a(document).ready(function(){d()})}(jQuery,bimber_shares);